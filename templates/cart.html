{% extends "base.html" %}

{% block title %}Shopping Cart - QR App{% endblock %}

{% block content %}
<div class="cart-page">
    <div class="page-header">
        <h1>Shopping Cart</h1>
        <a href="{{ url_for('homepage') }}" class="btn btn-secondary">Continue Shopping</a>
    </div>
    
    {% if cart_items %}
        <div class="cart-items">
            <table class="cart-table">
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Size</th>
                        <th>Color</th>
                        <th>Quantity</th>
                        <th>Stock Available</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in cart_items %}
                        <tr>
                            <td>{{ item.category }}</td>
                            <td>{{ item.size }}</td>
                            <td><span class="color-badge" style="background-color: {{ item.color.lower() }}">{{ item.color }}</span></td>
                            <td>{{ item.quantity }}</td>
                            <td>{{ item.stock }}</td>
                            <td>
                                <a href="{{ url_for('remove_from_cart', cart_id=item.id) }}" class="btn btn-danger btn-sm">Remove</a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            
            <div class="cart-wait-message">
                <div class="alert alert-info">
                    <h3>‚è≥ Please Wait for Approval Admin</h3>
                    <p>Your cart items are ready. After checkout, please wait for the Approval Admin to validate your order and QR code.</p>
                </div>
            </div>
            
            <div class="cart-actions">
                <a href="{{ url_for('checkout') }}" class="btn btn-primary btn-large">Proceed to Checkout</a>
            </div>
        </div>
    {% else %}
        <div class="empty-cart">
            <p>Your cart is empty.</p>
            <a href="{{ url_for('homepage') }}" class="btn btn-primary">Start Shopping</a>
        </div>
    {% endif %}
</div>
{% endblock %}


